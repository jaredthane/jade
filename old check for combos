
	def check_for_combos
		for combo in get_combos do #Go through each combo
			qualify=1
			for l in combo.require_lines do        #Check if the order has enough of each product
				if total_quantity(l.product) < l.quantity
					qualify=0
				end #total_quantity(l.product) < l.quantity
			end #l in combo.require_lines
			if qualify == 1			                     		#If the order qualifies,
				for l in combo.require_lines do      			# go back through each line
					qty_to_remove = l.quantity							# note down how many to delete
					for line in self.lines									# go through each line of the order
						if line.product.id == l.product.id		# if products match
							if line.quantity > qty_to_remove		# if this line has more than enough
								line.quantity = line.quantity - qty_to_remove #take them
								qty_to_remove = 0									#dont take any more
							end
							if line.quantity == qty_to_remove
								line.delete
								qty_to_remove = 0
							end
						end # product matches
					end #line in self.lines
				end #l in combo.require_lines
			end #if qualify==1
		end #combo in get_combos
	end #check_for_combos
